
 This is a Geant4 application that simulates a simplified 
 cylindrical slice of a high-energy physics detector. 
 In particular, the main emphasis here is to be able to have
 both the electromagnetic and hadronic calorimeters.

 The detector slice is made of 4 cylinders, of the same
 radius, in the following order (along z, from z=0 going
 to increasing z; the z-axis is the beam axis):
   1) Tracker 
      (a homogeneous foil, without sensitive parts);
   2) Electromagnetic Calorimeter (EM Cal, for short)
      (either homogeneous or sampling);
   3) Hadronic Calorimeter (HAD Cal, for short)
      (either homogeneous or sampling)
   4) Muon detector
      (a homogeneous thick foil, without sensitive parts).

 Via a macro file, the following properties of the detector
 can be configured:
   o  material and thickness of the "Tracker";
   o  absorber material, total absorber thickness,
      active material, active layer thickness, and
      number of layers, for the EM Cal;
   o  absorber material, total absorber thickness,
      active material, active layer thickness, and
      number of layers, for the HAD Cal;
   o  material and thickness of the "Muon detector";
   o  radius of the cylinder (which is the same for
      all the four subdetectors).
 All the above dimensions must be specified in [mm].
 One subdetector can be excluded, simply specifying
 its corresponding thickness as zero.
 In the macro file, as usual, one can also specify the
 beam particle type and kinetic energy, and the number
 of events. 
 No magnetic field. 

 There are 4 macro files available:
   o  run.g4                  : a general example;
   o  combinedCMS.g4          : CMS   combined ECAL+HCAL
   o  combinedATLASbarrel.g4  : ATLAS combined ECAL+HCAL
                                for the Barrel;
   o  combinedATLASendcap.g4  : ATLAS combined ECAL+HCAL
                                for the EndCap.

 By editing the main program (mainDetectorSlice.cc,
 search the string "***LOOKHERE***") it is possible 
 to select the Physics List.

 By editing the detector construction 
 (src/DetectorSliceDetectorConstruction.cc, search
  the string "***LOOKHERE***") it is possible to
 specify a different starting point of the detector
 than the default z=0.0, and also specify some (air)
 gaps between the four subdetectors, which by default
 are placed one immediately the after, without gaps.

 To build the application you need to setup the
 proper Geant4 environment, and then 

     $  gmake

 To run it:

     $  $G4BIN/$G4SYSTEM/mainDetectorSlice run.g4

 The output consists of a summary of the following
 observables:
   o  average energy deposited in the Tracker, 
      per event;
   o  average visible energy in the electromagnetic
      calorimeter, per event;
   o  average total energy deposited in the whole
      electromagnetic calorimeter, per event;
   o  average visible energy in the hadronic
      calorimeter, per event;
   o  average total energy deposited in the whole
      hadronic calorimeter, per event;
   o  average energy deposited in the Muon detector,
      per event;
   o  the average energy contribution of the visible
      energy in the electromagnetic calorimeter due
      to different types of particles;
   o  the average energy contribution of the visible
      energy in the hadronic calorimeter due to 
      different types of particles.

 If the environmental variable G4ANALYSIS_USE is set,
 then a HBOOK file,  ntuple.hbook , is produced, with
 the following content:

   o  ntuple (column-wise) with id = 1 , containing 
      the following variables:
        -  ID       : PDG code of the primary particle;
        -  E        : beam Energy [MeV];
        -  ED_TRA   : Energy Deposited [MeV] in the "Tracker";
        -  ED_EM_S  : Energy Deposited [MeV] in the Sensitive
                      (active) part of the EM Cal;
        -  ED_EM    : Energy Deposited [MeV] in the whole EM Cal; 
        -  ED_HAD_S : Energy Deposited [MeV] in the Sensitive
                      (active) part of the HAD Cal;
        -  ED_HAD   : Energy Deposited [MeV] in the whole HAD Cal;
        -  ED_MU    : Energy Deposited [MeV] in the "Muon detector";
        -  R_MU     : Radius [mm] of the exiting primary muon at
                      the end of the "Muon detector".
                      (This variable is defined only when the
                       primary particle is a muon, and this
                       muon survives through the whole detector.
	               In all other cases it is set to zero.)  

   o  histograms, with the following id :
         71 : gamma   kinetic energy in the EM Cal;
         72 : neutron   "        "      "     "
         73 : proton    "        "      "     "
         74 : pion0     "        "      "     "
         75 : pion+     "        "      "     "
         76 : pion-     "        "      "     "
         81 : gamma   kinetic energy in the HAD Cal;
         82 : neutron   "        "      "     " 
         83 : proton    "        "      "     "
         84 : pion0     "        "      "     "
         85 : pion+     "        "      "     "
         86 : pion-     "        "      "     "
      The kinetic energy refers to the value at the moment of the
      particle creation (either in the EM Cal or in the HAD Cal).
      The variable which is plotted is the logarithm (in
      base 10) of the kinetic energy in [MeV], in the range
      between -4.0 (i.e. 0.1 keV) and 6.0 (i.e. 1000 GeV). 

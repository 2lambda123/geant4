
 Last update: 30-Apr-2007
 ========================

 In this directory you can find an example of a Geant4 application
 whose setup is imported via a .gdml file: in this case, it
 corresponds to the CMS detector.
 (The file  cms.gdml  has been provided by Witold Pokorski: 
       /afs/cern.ch/user/w/witoldp/Public/cms.gdml
 )

 The Physics List (LHEP, QGSP_EMV, QGSP, QGSC, FTFP, QGSP_BIC, 
 QGSP_BERT, QGSP_BERT_HP, etc.) can be selected in the main program
 (search for the string "***LOOKHERE***" in the file 
  mainApplication.cc; by default, the Physics List QGSP is used).

 You can select the number of events, and the eventual magnetic
 field (which is a global, constant, uniform field, along the Z-axis)
 in the macro file:  run.g4 
 (by default, the magnetic field of 4 Tesla is activated).
 In the same file you can also choose if you want to start each
 run with the same random seed (specified in the file start.rndm;
 this is the default) or different each time.

 For the primary beam particle type, energy, starting position,
 and direction can be specified in two ways, by proper commenting/
 uncommenting some lines in the file src/MyPrimaryGeneratorAction.cc 
 (look for the string "***LOOKHERE***"):

   1) Fixed starting position (0,0,0), but random particle type,
      beam energy (flat between 1 and 100 GeV), and direction
      (this is the default).

   2) Everything fix: starting position, particle type, beam energy
      and direction.

 The Bash-shell setup file,  setup.sh , can be edit to select the
 Geant4 version you want to run: some possibilities can be chosen
 by simply commenting/uncommenting two lines (look for the string
 "***LOOKHERE*** in the file setup.sh; by default, Geant4 8.2.p01
 is used; notice that if you use version 8.1, or older, you need
 to symbolic link "GNUmakefile-old" to "GNUmakefile).
 In the case you want to run your local version of Geant4, then
 edit the file  setup.sh-localG4  (notice that you need to have
 global dynamic libraries) and then use it instead of the setup.sh.

 To build the application:   $  . setup.sh
                             $  gmake  

 To run the application:     $  $G4BIN/$G4SYSTEM/mainApplication run.g4


 ===================================================================

 Addition to run on the Grid (03-Jun-2008)
 The following files have been added in order to run on the Grid:
  
   o  mainScript.py  : the only one that should be edited and run
                       by the user.
  
   o  simuDriver.sh  : bash script called by  mainScript.py

   o  build.py       : Python script called by  simuDriver.sh

 The choices available are:  -  the Geant4 version to use
                             -  the Geant4 Physics List
	                     -  the number of events to run
	                     -  the magnetic field value



$Id: History,v 1.77 2008-06-27 10:33:07 ztorzsok Exp $
-------------------------------------------------------------------

     =========================================================
     Geant4 - an Object-Oriented Toolkit for Simulation in HEP
     =========================================================

                      Category History file
                      ---------------------
This file should be used by G4 developers and category coordinators
to briefly summarize all major modifications introduced in the code
and keep track of all category-tags.
It DOES NOT substitute the  CVS log-message one should put at every
committal in the CVS repository !

     ----------------------------------------------------------
     * Reverse chronological order (last date on top), please *
     ----------------------------------------------------------

27 June 2008 Zoltan Torzsok
- St reader: medium and solid material must be specified when reading ST geometry

26 June 2008 Zoltan Torzsok
- ST reader is working

25 June 2008 Zoltan Torzsok
- Units are set according to CLHEP units in G4GDMLEvaluator.

24 June 2008 Zoltan Torzsok
- geom file parsing added

23 June 2008 Zoltan Torzsok
- String handling optimized
  Schema location can be set in the writer

20 June 2008 Zoltan Torzsok
- noNamespaceSchemaLocation is set to url of GDML2_10_0

20 June 2008 Zoltan Torzsok (gdml-V09-01-07)
- Set correct URL for schema for 'noNamespaceSchemaLocation' parameter.

17 June 2008 Zoltan Torzsok
- Added schema validation.
- Added schema definition files.

10 June 2008 Zoltan Torzsok (gdml-V09-01-06)
- Modularization can be done either by physvol/depth/mixed.
  Volume auxiliary information is requested by pointer instead of by name.

9 June 2008 Zoltan Torzsok
- Naming convention can be configured in the writer.

5 June 2008 Zoltan Torzsok
- Module name is optional now. If no name is specified,
  the logical volume name will be the filename.

2 June 2008 Zoltan Torzsok (gdml-V09-01-05)
- Writer checks if the file to be created does already exist.
- Added GetVolume() function.

29 May 2008 Zoltan Torzsok
- Added support for writing modular files.

28 May 2008 Zoltan Torzsok
- Only the referenced materials/elements/isotopes are written out, not the
  whole material/element/isotope store.
- Assigned the name to world physical volume.

27 May 2008 Zoltan Torzsok
- Optimized/simplified writing of structure: no array required for sorting.
- Only the referenced solids are written out, not the whole solid store.

23 May 2008 Zoltan Torzsok
- Writer: precision is now considered in case of scale, rotation and position
  of the physical-volume. DBL_EPSILON is used to filter precision for avoiding
  unnecessary scaling, rotation or positioning.

6 May 2008 Zoltan Torzsok (gdml-V09-01-04)
- Added a constant limiting the maximum number of reflections/displacements of a single solid

21 April 2008 Zoltan Torzsok
- Divisionvol, replicavol and paramvol are resolved now.

11 April 2008 Zoltan Torzsok (gdml-V09-01-03)
- Referenced solid in volume is resolved in case of displacements/reflections.

10 April 2008 Zoltan Torzsok
- Added text output to console to inform of progress during processing.

9 April 2008 Zoltan Torzsok
- Worked out an algorithm for sorting logical volumes in the writer.

4 April 2008 Zoltan Torzsok
- Modified writing out of volumes to happen in recursive way.
  Still needs optimization. Does not recompute touched branches!

1 April 2008 Z.Torzsok
- Corrected function names to have all starting with capital letter.

11 March 2008 Z.Torzsok (gdml-V09-01-02)
- Added border surface to reader.
- Added skin surface to reader.
- Fixed compilation problems on Intel/icc compiler.

7 March 2008 Z.Torzsok (gdml-V09-01-01)
- Material properties added to reader

20 February 2008 Z.Torzsok
- Completed support for parameterised volumes in writer.
- Name is added to physvol in reader.

19 February 2008 Z.Torzsok
- Replicavol is simplified and no longer restricted to replication along axes.

18 February 2008 Z.Torzsok
- Added G4GDMLWriteParamvol class implementing the parameterised volumes
  in the writer. Added box parameterisation and succesfully tested.

15 February 2008 Z.Torzsok
- Division volumes added to writer and succesfully tested.

14 February 2008 Z.Torzsok
- Replica volumes added to writer and succesfully tested.

13 February 2008 Z.Torzsok
- Added getRotationMatrix() function to G4GDMLReadDefine: this function
  converts rotation angles into a rotation matrix. This wad used in physvol,
  reflectedSolid and boolean solid. Now this conversion is in one place
- Added 'firstrotation' and 'firstposition' to boolean solid. Now the first
  solid can be transformed too (Boolean solid is succesfully tested).

11 February 2008 Z.Torzsok
- Added matrices to writer.
- Exception handling is added to loops (identify infinite loops).

8 Febryary 2008 Z.Torzsok
- Naming of physvol changed to 'ReferencedVolumeName_in_MotherVolumeName'.

7 February 2008 Z.Torzsok
- Added twistedtrap and twistedtubs to writer.

6 february 2008 Z.Torzsok
- Tet, Twistedbox and Twistedtrd added to writer and succesfully tested.

5 February 2008 Z.Torzsok
- Hype, orb and para added to writer.
  Succesfully tested, except the para.

1 February 2008 Z.Torzsok
- Ellipsoid and elliptical-tube added to writer.

31 January 2008 Z.Torzsok
- Quantities now can be referenced
- Naming of physical volumes changed: MotherLogicalName_daughter(index)

30 January 2008 Z.Torzsok
- If there is only one setup defined, name does not matter, that setup
  will be loaded.
- Temperature, pressure and state are now processed in the reader.
  Added Nist support.

28 January 2008 Z.Torzsok
- Element added to writer.
- Polyhedra and torus added to writer.
- Now the package is able to read/write the CMS geometry.

25 January 2008 Z.Torzsok
- Bugs fixed in the writer in G4GMLWriteStructure::physvolWrite():
  the signs of the rotational angles were incorrect in certain cases
  (180 degrees, 90 degrees,...). The reflection was incorrect in case
  of reflecting a subtree.
- Now the package is capable of reading and writing back the LHCb
  geometry correctly.

23 January 2008 Z.Torzsok
- Composite materials added to writer.
- Cone and tube added to writer.
- Boolean solid (intersection, subtraction, union) added to writer.

22 January 2008 Z.Torzsok
- Extruded solid is added to writer.
- Reflected solid is removed from the written GDML files.
  Scale transformation is used instead.
- Optimization to tha case of reading multiple GDML files and writing out
  into a single GDML file:
  The mother volume is moved to the end of the list after its daugthers are
  processed... only when necessary, when new logical volumes come from the
  daughters!

21 January 2008 Z.Torzsok
- Reflected solid is added to the writer.
- Solved problem of reading multiple GDML files and writing out into a single
  GDML file:
  if a logical volume (let's say the mother volume) is instantiated, it will
  be added to the end of list of volumes (G4LogicalVolumeStore).
  Once this logical volume is instantiated we can add daughters.
  If a daughter refers to an external file, additional logical volumes will
  come. These logical volumes will be added to the list as well, AFTER the
  mother volume. In the mother volume these logical volumes can be referenced
  ...but these logical volumes are not instantiated yet when we instantiate
  the mother! That's why we move the mother volume at the end of the list
  after the daughters are processed.
  
18 January 2008 Z.Torzsok
- The class hierarchy of the GDML parser/writer is finished:
  Write <- WriteDefine <- WriteMaterials <- WriteSolids
        <- WriteSetup <- WriteStructure
  Parser Read <- ReadDefine <- ReadMaterials <- ReadSolids
              <- ReadSetup <- ReadParamvol <- ReadStructure.

16 January 2008 Z.Torzsok
- Starting the materials section.

15 January 2008 Z.Torzsok
- Writer implements the setup section too.

11 January 2008 Z.Torzsok (gdml-V09-01-00)
- Reader is now capable of resolving entities.

08 January 2008 Z.Torzsok
- Vertex referencing is fixed in tessellated solid 
  (using the identifier "vertex" according to the schema).

07 January 2008 Z.Torzsok
- Starting to implement the writer.

30 November, 07  Z.Torzsok (gdml-V09-00-04)
- Fine tuning of the class hierarchy and fixed issue with reflections.

23 November, 07  Z.Torzsok (gdml-V09-00-03)
- Better handling of embedded loops and first adaptation.

22 November, 07  Z.Torzsok (gdml-V09-00-02)
- Handling of embedded loops added.
- Fixed compilation problems on Windows platform.

19 November, 07  G.Cosmo (gdml-V09-00-01)
- Better handling of modular GDML files and reflections (Z.Torzsok).
- Added disclaimer to all files. Use G4 types.
- Fixed compilation problems on SUN platform.

15 November, 07  Z.Torzsok (gdml-V09-00-00)
- Added support for modular files.
- Completed set of specific solids. Supported reflections and divisions.

02 November, 07  G.Cosmo (persistency-V09-00-00)
- Added G4LIB_BUILD_GDML/G4LIB_USE_GDML flags to trigger compilation through
  the central scripts. Moved setup for XERCESC (includes and libs paths) to
  central scripts.
- Coworks with tag "config-V09-00-06".

17 October, 07  Z.Torzsok
- Introduced new "gdml" plugin sub-module, based on new GDML release 3.

# This is test19.g4m
#
# Switch on echoing of commands and history mechanism.
#
/control/verbose 2
/control/saveHistory
#
# John's personal preferences
/vis/lights/move_with_camera true
/vis/set/marker_choices 1
#
# See list of detector possibilities.
/test19det/detector
# Select detector.
#/test19det/detector 1
#/test19det/detector 4
#
# Initialise run, i.e., create geometry, set cuts, etc.
/run/initialize
#
# Set gun for demo (detector 1)
#/gun/particle e+
#/gun/position 0 -100 0 cm
#/gun/direction 0 1 0
#
# for drawing the tracks
/tracking/storeTrajectory 1
# if too many tracks cause core dump =storeTrajectory 0
#
# Create empty scene.
/vis/scene/create
#
# Add volume to scene - "world" is default.
/vis/scene/add/volume
#
# See list of graphics systems possibilities.
help /vis/sceneHandler/create
#
# Create a scene handler for a specific graphics system.
# Edit the next line(s) to choose another graphic system
#/vis/sceneHandler/create DAWNFILE
#/vis/sceneHandler/create DAWN
#/vis/sceneHandler/create OGLIXm
#/vis/sceneHandler/create OGLSXm
#/vis/sceneHandler/create OGLIX
/vis/sceneHandler/create OGLSX
#/vis/sceneHandler/create VRML1
#/vis/sceneHandler/create VRML1FILE
#/vis/sceneHandler/create Xo
#/vis/sceneHandler/create Wo
#
# Add world volume.
/vis/scene/add/volume
#
# Create a viewer.
/vis/viewer/create
#
/vis/viewer/refresh
/vis/draw/axes     0 0 0 500
/vis/draw/text     0 0 0 mm 50 -120 -200   exampleN03
/vis/viewer/show
#
# Create another viewer.
/vis/viewer/create
#
/vis/camera/viewpoint 35 35
/vis/set/drawing_style 2
/vis/camera/projection_style 1 30
#
/vis/viewer/refresh
/vis/draw/axes     0 0 0 500
/vis/draw/text     0 0 0 mm 50 -120 -200   exampleN03
/vis/viewer/show
#
/vis/set/drawing_style 0
/vis/camera/projection_style 0
#
# Start a run to initialise/optimise geometry.
/run/beamOn
#
# Test logical volume model...
/vis/scene/create
/vis/scene/add/logicalVolume expHall_L
/vis/sceneHandler/create OGLSX
/vis/viewer/create
/vis/camera/viewpoint 35 35
/vis/scene/notifyHandlers
/vis/viewer/show
#
# Send geantino through...
/vis/scene/create
/vis/scene/add/volume
/vis/scene/include/trajectories
/vis/sceneHandler/create OGLSXm
/vis/viewer/create
/vis/camera/viewpoint 35 35
/vis/scene/notifyHandlers
/run/beamOn 1
/vis/viewer/show
#
# G4Trap1
/vis/camera/reset
#/vis/viewer/panTo -200 200 cm
/vis/camera/pan -2750 750
/vis/camera/zoom 5
/vis/viewer/refresh
/gun/direction -1 0 0
/gun/position -20 120 -200 cm
/run/beamOn
/gun/position -20 130 -200 cm
/run/beamOn
/gun/position -20 140 -200 cm
/run/beamOn
/gun/position -20 150 -200 cm
/run/beamOn
/gun/position -20 160 -200 cm
/run/beamOn
/gun/position -20 170 -200 cm
/run/beamOn
/gun/position -20 180 -200 cm
/run/beamOn
/gun/position -20 190 -200 cm
/run/beamOn
/gun/position -20 200 -200 cm
/run/beamOn
/gun/position -20 210 -200 cm
/run/beamOn
/gun/position -20 220 -200 cm
/run/beamOn
/gun/position -20 230 -200 cm
/run/beamOn
/gun/position -20 240 -200 cm
/run/beamOn
/gun/position -20 250 -200 cm
/run/beamOn
/gun/position -20 260 -200 cm
/run/beamOn
/gun/position -20 270 -200 cm
/run/beamOn
/gun/position -20 280 -200 cm
/run/beamOn
# z = -20 cm
/gun/position -20 120 -220 cm
/run/beamOn
/gun/position -20 130 -220 cm
/run/beamOn
/gun/position -20 140 -220 cm
/run/beamOn
/gun/position -20 150 -220 cm
/run/beamOn
/gun/position -20 160 -220 cm
/run/beamOn
/gun/position -20 170 -220 cm
/run/beamOn
/gun/position -20 180 -220 cm
/run/beamOn
/gun/position -20 190 -220 cm
/run/beamOn
/gun/position -20 200 -220 cm
/run/beamOn
/gun/position -20 210 -220 cm
/run/beamOn
/gun/position -20 220 -220 cm
/run/beamOn
/gun/position -20 230 -220 cm
/run/beamOn
/gun/position -20 240 -220 cm
/run/beamOn
/gun/position -20 250 -220 cm
/run/beamOn
/gun/position -20 260 -220 cm
/run/beamOn
/gun/position -20 270 -220 cm
/run/beamOn
/gun/position -20 280 -220 cm
/run/beamOn
# z = +20 cm
/gun/position -20 120 -180 cm
/run/beamOn
/gun/position -20 130 -180 cm
/run/beamOn
/gun/position -20 140 -180 cm
/run/beamOn
/gun/position -20 150 -180 cm
/run/beamOn
/gun/position -20 160 -180 cm
/run/beamOn
/gun/position -20 170 -180 cm
/run/beamOn
/gun/position -20 180 -180 cm
/run/beamOn
/gun/position -20 190 -180 cm
/run/beamOn
/gun/position -20 200 -180 cm
/run/beamOn
/gun/position -20 210 -180 cm
/run/beamOn
/gun/position -20 220 -180 cm
/run/beamOn
/gun/position -20 230 -180 cm
/run/beamOn
/gun/position -20 240 -180 cm
/run/beamOn
/gun/position -20 250 -180 cm
/run/beamOn
/gun/position -20 260 -180 cm
/run/beamOn
/gun/position -20 270 -180 cm
/run/beamOn
/gun/position -20 280 -180 cm
/run/beamOn
/vis/viewer/show
#
# G4Trap2
/vis/camera/reset
#/vis/viewer/panTo -200 400 cm
/vis/camera/pan -2750 2750
/vis/camera/viewpoint 90 180
#/vis/viewer/panTo -200 0 cm
/vis/camera/pan -2000 0
/vis/camera/zoom 5
/vis/viewer/refresh
/gun/direction 0 0 -1
/gun/position -200 400 -20 cm
/run/beamOn
/gun/position -200 380 -20 cm
/run/beamOn
/gun/position -200 420 -20 cm
/run/beamOn
/gun/position -200 360 -20 cm
/run/beamOn
/gun/position -200 440 -20 cm
/run/beamOn
/gun/position -200 340 -20 cm
/run/beamOn
/gun/position -200 460 -20 cm
/run/beamOn
/vis/viewer/show
#
# Displaced solid.
/vis/camera/reset
#/vis/viewer/panTo 200 -200 cm
/vis/camera/pan 1250 -3250
/vis/camera/zoom 5
/vis/viewer/refresh
/gun/position 100 -180 0 cm
/gun/direction 1 0 0
/run/beamOn
/vis/viewer/show
#
# Boolean solid.
/vis/camera/reset
#/vis/viewer/panTo 200 -50 cm
/vis/camera/pan 1250 -1750
/vis/camera/zoom 5
/vis/viewer/refresh
/gun/direction 1 0 0
/gun/position 100 -40 0 cm
/run/beamOn
/gun/position 100 -30 0 cm
/run/beamOn
/gun/position 100 -20 0 cm
/run/beamOn
/gun/position 100 -10 0 cm
/run/beamOn
/gun/position 100 0 0 cm
/run/beamOn
/vis/viewer/show
#
# To view replicas...
# Investigating BaBar problem...
# G4SmartVoxelHeader::BuildNodes - PANIC! Daughter physical volume
# name = EB20 is entirely outside mother logical volume name = EBMX
/vis/camera/reset
#/vis/viewer/panTo -200 0 cm
/vis/camera/pan -2750 -1250
/vis/camera/zoom 7
/vis/viewer/refresh
/gun/direction 0 1 0
# The following just crash with replicas...
/gun/position -200 -100 0 cm
/run/beamOn
/gun/position -195 -100 0 cm
/run/beamOn
/gun/position -190 -100 0 cm
/run/beamOn
/gun/position -185 -100 0 cm
/run/beamOn
/gun/position -180 -100 0 cm
/run/beamOn
/gun/position -160 -100 0 cm
/run/beamOn
#...end
/gun/position -200 0 0 cm
# The following just crash with replicas...
/gun/direction 1 1 0
/run/beamOn
/gun/direction 0 1 0
/run/beamOn
/gun/direction 1 .2 0
/run/beamOn
/gun/direction -1 1 0
/run/beamOn
/gun/direction -1 -1 0
/run/beamOn
/gun/direction 0 -1 0
/run/beamOn
/gun/direction 1 -1 0
/run/beamOn
/vis/viewer/show
#...end
#
/vis/camera/viewpoint 30 30
/vis/camera/projection_style 1 30
/vis/viewer/refresh
/vis/viewer/show
#
/vis/sceneHandler/create RayTracer
/vis/viewer/create
/vis/viewer/refresh
/vis/viewer/show

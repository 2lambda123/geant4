# This is test19.g4m
#
# Switch on echoing of commands and history mechanism.
#
/control/verbose 2
/control/saveHistory
#
# John's personal preferences
/vis/lights/move_with_camera true
/vis/set/marker_choices 1
#
# See list of detector possibilities.
/test19det/detector
# Select detector.
#/test19det/detector 1
#/test19det/detector 4
#
# Initialise run, i.e., create geometry, set cuts, etc.
/run/initialize
#
# Set gun for demo (detector 1)
#/gun/particle e+
#/gun/position 0 -100 0 cm
#/gun/direction 0 1 0
#
# Create empty scene.
/vis/scene/create
#
# Add volume to scene - "world" is default.
/vis/scene/add/volume
#
# See list of graphics systems possibilities.
help /vis/sceneHandler/create
#
# Create a scene handler for a specific graphics system.
# Edit the next line(s) to choose another graphic system
#/vis/sceneHandler/create DAWNFILE
#/vis/sceneHandler/create DAWN
#/vis/sceneHandler/create OGLIXm
#/vis/sceneHandler/create OGLSXm
#/vis/sceneHandler/create OGLIX
/vis/sceneHandler/create OGLSX
#/vis/sceneHandler/create VRML1
#/vis/sceneHandler/create VRML1FILE
#/vis/sceneHandler/create Xo
#/vis/sceneHandler/create Wo
#
# Add world volume.
/vis/scene/add/volume
#
# Create a viewer.
/vis/viewer/create
/vis/camera/viewpoint 35 35
#
/vis/scene/notifyHandlers
/vis/draw/axes     0 0 0 500
#/vis/draw/text     0 0 0 mm 50 -120 -200   exampleN03
/vis/viewer/update
#
# Test logical volume model...
#/vis/scene/create
#/vis/scene/add/logicalVolume expHall_L
#/vis/sceneHandler/create OGLSX
#/vis/viewer/create
#/vis/camera/viewpoint 35 35
#/vis/scene/notifyHandlers
#/vis/viewer/update
#
# for drawing the tracks
# if too many tracks cause core dump =storeTrajectory 0
/vis/scene/create
/vis/scene/add/volume
/vis/scene/include/trajectories
/vis/sceneHandler/create OGLSX
/vis/viewer/create
/vis/camera/viewpoint 35 35
/vis/scene/notifyHandlers
/tracking/storeTrajectory 1
/run/beamOn 1
/vis/viewer/update
#
# To view replicas...
# Investigating BaBar problem...
# G4SmartVoxelHeader::BuildNodes - PANIC! Daughter physical volume
# name = EB20 is entirely outside mother logical volume name = EBMX
/vis/camera/viewpoint 0 0
/vis/camera/pan -2000 0 0
/vis/camera/zoom 7
/vis/viewer/refresh
/gun/direction 0 1 0
/gun/position -200 -100 0 cm
/run/beamOn
# The following just crash with replicas...
#.../gun/position -195 -100 0 cm
#.../run/beamOn
#.../gun/position -190 -100 0 cm
#.../run/beamOn
#.../gun/position -185 -100 0 cm
#.../run/beamOn
#.../gun/position -180 -100 0 cm
#.../run/beamOn
#...end
/gun/position -200 0 0 cm
# The following just crash with replicas...
#.../gun/direction 1 1 0
#.../run/beamOn
#.../gun/direction 0 1 0
#.../run/beamOn
#.../gun/direction 1 .2 0
#.../run/beamOn
#.../gun/direction -1 1 0
#.../run/beamOn
#.../gun/direction -1 -1 0
#.../run/beamOn
#.../gun/direction 0 -1 0
#.../run/beamOn
#.../gun/direction 1 -1 0
#.../run/beamOn
#...end
/vis/viewer/update



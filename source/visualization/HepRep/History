.$Id: History,v 1.52 2003-11-18 07:53:06 duns Exp $
-------------------------------------------------------------------

     =========================================================
     Geant4 - an Object-Oriented Toolkit for Simulation in HEP
     =========================================================

                      Category History file
                      ---------------------
This file should be used by G4 developers and category coordinators
to briefly summarize all major modifications introduced in the code
and keep track of all category-tags.
It DOES NOT substitute the  CVS log-message one should put at every
committal in the CVS repository !

     ----------------------------------------------------------
     * Reverse chronological order (last date on top), please *
     ----------------------------------------------------------

History file for visualization/HepRep sub-category
---------------------------------------------------------------------------
17 November 2003 Mark Donszelmann (vis-HepRep-05-02-06)
- Removed dependency on sstream which made compilation fail on Linux-g++2.95.2
  and on Solaris 5.2. 
- Added flags for zipios++ to compile OutputStringStream using sstream only on
  g++ 3.x (Linux/MacOS X) and on WIN32. 
- Added include to OutputStringStream.h to make it work on Solaris.
- Removed our own sstream since it is no longer used.
- Fixed GEANT-34  
  
14 November 2003 Mark Donszelmann 
- Fixed GEANT-25, GEANT-35 and GEANT-36 (vis-HepRep-05-02-05)
  see http://bugs.freehep.org/secure/BrowseProject.jspa?id=10041

14 November 2003 Joseph Perl
- Fixed GEANT-30

14 November 2003 Mark Donszelmann and Joseph Perl (vis-HepRep-05-02-03)
- Fixed GEANT-32

13 November 2003 Mark Donszelmann
- Fixed GEANT-29, GEANT-33

12 November 2003 Joseph Perl
- Added G4HepRepFileSceneHandler::ClearTransientStore to make geometry
  be properly included with each event of a /run/beamOn n.

12 November 2003 Mark Donszelmann
- Fixed GEANT-18, GEANT-19, GEANT-28

11 November 2003 Mark Donszelmann
- Fixed GEANT-23, GEANT-26, GEANT-27

10 November 2003 Mark Donszelmann
- Fixed GEANT-22, GEANT-24

6 November 2003 Mark Donszelmann
- Fixed GEANT-14, GEANT-20

5 November 2003 Mark Donszelmann
- Fixed GEANT-16

4 November 2003 Mark Donszelmann
- Fixed GEANT-15

30 October 2003 Mark Donszelmann
- Fixed GEANT-10, WIRED-170

28 October 2003 Mark Donszelmann
- Several fixes (GEANT-11, GEANT-12, GEANT-3 and GEANT-13)
  
24 October 2003 Mark Donszelmann
- Several fixes (GEANT-2, GEANT-4, GEANT-8 and GEANT-9)

22 October 2003 Mark Donszelmann
- Added latest HepRep2 driver.

12th July 2003 Mark Donszelmann
- Renamed XMLHepRepWriter to G4HepRepFileXMLWriter and moved its header to include.
  Fixed initialization of some variabled in G4HepRep and G4HepRepSceneHandler, found
  by valgrind. Removed dependency in gzio.cc of fdopen (platform specific).

11th July 2003 Mark Donszelmann
- Removed the HepRepStreamer and replaced it by a fully functional HepRep implementation
  in C++. Added compression using ZLIB and ZIPIOS++. Moved private header files to
  subdirectories of include so that they do not get copied by the "gmake includes"
  command.
  The current HepRep files are invalid, but we first need to get rid of some memory
  leaks, using Linux, so we check this in.

30th May 2003  John Allison
- Eliminated pedantic warnings at head (johna-030530) and on
  geant4-05-01-ref-02 (vis-V05-00-02).

29th May 2003 Mark Donszelmann and Joseph Perl (mark-joseph-050329)
- Modified G4HepRepSceneHandler (HEPREP2) to write more complete heprep, including
  attributes.
- Copied new Streamer from FREEHEP library.

28th February 2003  Joseph Perl
- Modified G4HepRepFileSceneHandler to allow some volumes to be initially invisible.

24th January 2003  Joseph Perl
- Modified G4HepRepFileSceneHandler:AddThis (const G4VTrajectory& traj)
  to incorporate G4Attributes into the HepRep1 file.
- Moved some of HepRepXMLWriter's warning messages into ifdef debug blocks.

11th December 2002  John Allison  (vis-V04-01-10)
- Fixed default view parameters (global culling false).

9th December 2002 Mark Donszelmann
- Fixed bug that files were left open. Will close now, apart from stdin/stderr
- Fixed color call not to use array creation.
- Fixed HepRep standard (reader related), G4 is a writer.
- Fixed include file now to only include HepRep.h (which includes all others)

3rd December 2002 Mark Donszelmann
- Fixed bug that XML Output can be routed to stdout or stderr.

27th November 2002 Mark Donszelmann
- Fixed core dump (Solaris) if open HepRepXML and closed it w/o writing anything

27th November 2002  John Allison  (vis-V04-01-08)
- Changed mickname of HepRep to HepRepXML.
- Fixed description of HepRepFile.

26th November 2002 Mark Donszelmann
- Fixed FillStyle, LineStyle, LineWidth, HasFrame and Symbol Names
- Fixed parent-child relationship  for calorimeter hits
- Fixed material state number, now a string
- Fixed fillColor to be equal to color

25th November 2002 Mark Donszelmann
- Fixed HepRep1 warnings in HepRepFileSceneHandler
- Fixed HepRep2 radius of markers to be non-zero
- Fixed HepRep2 attributes some of which had wrong names, especially the markers
- Fixed HepRep2 filename to have sequence number

13th November 2002 Mark Donszelmann
- Added HepRep2 Driver

4th February 2002  Joseph Perl  (vis-V04-00-01)
- Check for missing hierarchy layers in HepRepXMLWriter.
  (Not strictly needed since have a culled layer check in SceneHandler,
  but may be useful in other applications of HepRepXMLWriter).

3rd February 2002  Joseph Perl
- Detect transient data by testing for
  !fpCurrentPV || fReadyForTransients
  rather than just fReadyForTransients

1st February 2002  Joseph Perl
- Defer file opening until first real HepRepType is to be written.
- Moved HepRep code from AddThis to AddPrimitive.
- Add additional levels to hierarchy if any appear to have been
  removed by culling.
- Add visibility attribute.

29th January 2002  Joseph Perl
- Relocate file-opening logic to constructor and ShowView
  (had been in SetView).

28th January 2002  Joseph Perl
- Produce hierarchical output rather than flat HepRepType structure.
- Handle trajectories as well as detector geometry.
- Output files now named G4Data<n>.heprep where n increments with each open.

19th November 2001  John Allison  (vis-V03-02-19)
- Added G4HEPREPFILEDEBUG to control debug code.
- Changed <fstream.h> to "g4std/fstream".
- Changed cout to G4cout, endl to G4endl.
- Changed G4HepRep.xml to G4HepRepFile.xml in hepRepXMLWriter->open("..."");

8th November 2001  Joseph Perl
- HepRep Type names now come from Physical Volume names.
- Added many HepRep Attributes for other volume properties.

6th November 2001  John Allison  (HepRep-pure-C++-1st-version)
- Removed HepRep files G4HepRep.hh, G4HepRepSceneHandler.hh,
  G4HepRepViewer.hh, G4HepRep.cc, G4HepRepSceneHandler.cc and
  G4HepRepViewer.cc (recoverable with tag HepRep-Java-version).
- Added HepRepFile from version of 27th September 2001  Joseph Perl.
  First pure C++ version (eliminates need for Java jni or freehep).
  Named as HepRepFile rather than HepRep.
- GNUmakefile: removed CPPFLAGS += -DHEPREP and CPPFLAGS += -DDEBUG.
- README: completely re-written for HepRepFile.

6th November 2001  John Allison  (HepRep-Java-version)
- Tagged before major revision.

4th September 2001  Joseph Perl
- minor improvements to README.

26th August 2001  Joseph Perl
- handle PolyHedron.getNoFacets()==0 and improve README.

24th August 2001  Joseph Perl  (vis-V03-02-13-00)
- First version of HepRep Graphics Driver

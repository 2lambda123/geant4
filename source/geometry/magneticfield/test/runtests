#!/bin/sh
ECHO="echo"
for n in 1 2 3 4 5 6 7 8 
do
  target=testPropagateMagField

  $ECHO "Executing with stepper choice $n .. \c"
  $G4WORKDIR/bin/$G4SYSTEM/testPropagateMagField $n   > testPropagateMagField.newout$n \
                                                     2> testPropagateMagField.newerr$n
  $ECHO  ".. difference from expected output: "
  diff -wb $target.out$n $target.newout$n
  sleep 1; 

  $ECHO  ".. difference from expected error: "
  diff -wb $target.err$n $target.newerr$n 
  sleep 1; 
  $ECHO  " "

done 

#exit

for i in *Spin.cc testProElectroMagField.cc
do
  target=`basename $i .cc`
  echo  "Executing $target ..."
  $G4WORKDIR/bin/$G4SYSTEM/$target > $target.newout \
                                  2> $target.newerr
  echo  ".. difference from expected output: "
  diff -wb $target.out $target.newout
  sleep 1;
  echo  ".. difference from expected error: "
  diff -wb $target.err $target.newerr
  sleep 1;
  echo  " "
done

exit

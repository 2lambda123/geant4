
     =========================================================
 		      Geant4 - Radioprotection example
     =========================================================

                             README
                      ---------------------

0. Introduction.

The Radioprotection example derives from a Geant4 application
 ( look www.ge.infn.it/space/remsim for more details ) whose scope 
is to evaluate the dose in astronauts, in vehicle concepts and 
Moon surface habitat configurations, in a given interplanetary space radiation 
environment. 

1. GEOMETRY

The user can calculate the dose in the astronaut (phantom) in the
following set-ups:

- Vehicle concept

      | ||sh|   |    |     |       | 
      |S||ie|   |SPE |     |       |
----> |I||ld|   |she |     |phantom|
beam  |H||in|   |lter|     |       |
      | ||g |   |    |     |       |
                            
--------------------------------------->
                                      Z axis

- The SIH is the Simplified Inflatable Habitat. 
- The shielding is  a layer of water, its scope it to protect the astronaut 
  from Galactic Cosmic Rays (GCR). The user can add, delete this element
  in the geometrical configuration, change its thickness through UI comands.
- The SPE shelter is a water layer (thickness = 75.cm along Z axis), its scope 
  it to protect the astronaut from Solar Particle Events (SPE).
  The user can add, delete this element in the geometrical configuration
  through UI comands.
- The phantom is the astronaut model; the energy deposit is collected in this
  geometrical component. The phantom is a box of water,
  it is 30. cm wide along Z axis, it is voxelised in 30 slices along Z axis. 
  The energy deposit of primary and secondary particles is collected in 
  each voxel.


- Moon Habitat
         _______________________________
         |                              |
         |Moon Surface                  |
         |                              |
        /| _________                    |
       | ||  _____  |                   |
---->  | || |Phan | |  <---shelter      |
beam   | || |thom | |                   |
       | || |_____| |                   |
       | ||_________|                   |
        \|                              |
     pyramid                            |
      log|                              |
         |______________________________|

- The astronaut/phantom is set in the astronaut habitat (shelter) on 
  the Moon Surface.
- The pyramid log is made of moon soil and protects the astronaut from 
  GCR and SPE. The user can add, delete this element in the geometrical 
  configuration, change its thickness through UI comands.

- The phantom is the astronaut model; the energy deposit is collected in this
  geometrical component. The phantom is a box of water,
  it is 30. cm wide along Z axis, it is voxelised in 30 slices along Z axis. 
  The energy deposit of primary and secondary particles is collected in 
  each voxel.

The primary particles can be generated with different conditions as explained 
in section 3.

2. Physics List

The user can select the physics processes to activate interactively as 
shown in the macro vis.mac.
The example is provided of:
- Low Energy electromagnetic processes for photons, e- 
- Standard electromagnetic processes for e+
- Low Energy  electromagnetic processes with ICRU parameterisation 
  for p, alpha and ions
- Muon electromagnetic processes
- Decay
- Hadronic processes for p and alpha particles as primary particles.

3. Primary particles

The user can select different set-ups to generate primary particles:

- "Basic": monochromatic particle beam (default configuration)
- "Interplanetary": particle beam with energy derived from a given 
  energy spectrum. 
- "Moon": particles generated with energy derived from a given 
  energy spectrum on a given hemisphere with random direction.

The energy spectrum is written is ASCII file:
first column: energy in MeV
second column: flux
The flux is used as probability of generating a particle with a particular 
energy. The sum of the fluxes is normalised to 1 in the RunAction. 

Examples of ASCII files --

- Galactic Cosmic Rays fluxes (envelope of CREME96 1977 and CREME86 1975 solar
minimum spectra):
p: gcrZ=1.txt
alpha: gcrZ=2.txt
carbon ion: gcrZ=6.txt
oxygen ion: gcrZ=8.txt
silicon ion: gcrZ=14.txt
iron ion: gcrZ=26.txt
The ions are completly stripped.

- Solar Particle Events (envelope of CREME96 October 1989 and 
August 1972 spectra)
p: speZ=1.txt
alpha: speZ=2.txt

The user can select interactively the configuration with the following
UI commands:
/gun/generator Basic
/gun/energy Interplanetary
/gun/generator Moon

1.3 Geometry


1.4 Energy Deposit 


1.5 Analysis

A  particle beam impinges on a multilayer  of water and then
on a phantom filled with water.
       |s| /  |  |
-----> |l|/   |  |  
beam   |a|\   |  |
       |b| \  |  |
              phantom

The primary particles (of the impinging beam) can be:
p, alpha, e-, e+,gamma.

The phantom is sliced in 1 cm thick slices.
The output of the simulation is a hbk file containing information about
the energy deposit in the phantom.

-------------------------------------------------------------------------
----> 2.SET-UP 
                                                                        |
 -example enviroment with the compiler 3.2                              
 -a standard Geant4 example GNUmakefile is provided                     |

setup with:                                                             |
compiler = gcc-3.2
G4SYSTEM = linux-g++                                                    |

The following environment variables need to be set:                     |

G4LEDATA: points to low energy data base - G4EMLOW2.3                   |

setup for analysis with AIDA 3.0/Anaphe 5.0.5 for user with account     |
on lxplus:
                                                                        |
setenv G4ANALYSIS_USE  1
                                                                        |
source /afs/cern.ch/sw/lhcxx/share/LHCXX/5.0.5/scripts/setupAnaphe.csh
setenv PATH ${PATH}:/afs/cern.ch/sw/lhcxx/share/LHCXX/5.0.5/scripts/    |

 Please take a look to the Anaphe/Lizard web page                       |
        http://anaphe.web.cern.ch/anaphe 
 for more info                                                          |

------------------------------------------------------------------------
----> 3.How to run the example.                                         |
Two example macros are provided as example; 
                                                                        |
- batch mode:
  $G4WORDIR/bin/Linux-g++/remsim vehicle.mac                            |
  $G4WORDIR/bin/Linux-g++/Brachy moon.mac       
                                                                        |
- Interative mode:                                                      
  3) $G4WORDIR/bin/Linux-g++/remsim
     The vis.mac is loaded automatically                                |

------------------------------------------------------------------------
----> 4. Simulation output                                              |

if ANALYSIS_USE = 1 in the set-up, the output is remsim.hbk             | 
                                 
 It contains histograms:                                                |
     10 (1)   Energy Deposit (MeV)in the phantom (astronaut) versus 
              the depth along Z axis 
     20 (1)   Initial energy (MeV) of primary particles                 | 
     30 (1)   Energy Deposit (MeV) in the phantom given by secondaries  
              versus the depth along Z axis 
     40 (1)   Initial energy (MeV) of primaries reaching the phantom    |
     50 (1)   Initial energy (MeV) of primaries ougoing the phantom 
     60 (1)   Energy (MeV) of primaries reaching the phantom            |
     70 (1)   Energy (MeV) of primaries outgoing the phantom
------------------------------------------------------------------------
for comments, advices, doubts and questions: guatelli@ge.infn.it

last modified: Susanna Guatelli 21/5/2004




     =========================================================
 		      Geant4 - Brachytherapy example
     =========================================================

                             README
                      ---------------------

------------------------------------------------------------------------
----> Introduction.                                                     |
                                                                       
Brachytherapy example simulates energy deposit in a Phantom filled with |
soft tissue for: 
1) Iridium source (endocavitary brachytherapy).                         |
2) Iodium  source (interstitial brachytherapy).                         
3) Leipzig Applicator (superficial brachytherapy).                      |
------------------------------------------------------------------------
----> 1.Experimental set-up.                                            |

The default source is an Ir-131 source put in the center of the Phantom.|  
The Phantom is a box (dimension:30cm), it is gridded in 
voxels (1.mm dimension)                                                 |
-------------------------------------------------------------------------
----> 2.SET-UP 
                                                                        |
 -example enviroment with the compiler 3.2                              
 -a standard Geant4 example GNUmakefile is provided                     |

setup with:                                                             |
compiler = gcc-3.2
G4SYSTEM = linux-g++                                                    |

The following environment variables need to be set:                     |

G4LEDATA: points to low energy data base - G4EMLOW2.2                   |

setup for analysis with AIDA 3.0/Anaphe 5.0.5 for user with account     |
on lxplus:
                                                                        |
setenv G4ANALYSIS_USE  1
setenv G4ANALYSIS_BUILD  1                                              |
source /afs/cern.ch/sw/lhcxx/share/LHCXX/5.0.5/scripts/setupAnaphe.csh
setenv PATH ${PATH}:/afs/cern.ch/sw/lhcxx/share/LHCXX/5.0.5/scripts/    |

 Please take a look to the Anaphe/Lizard web page                       |
        http://anaphe.web.cern.ch/anaphe 
 for more info                                                          |

------------------------------------------------------------------------
----> 3.How to run the example.                                         |

- batch mode:
  $G4WORDIR/bin/Linux-g++/Brachy IridiumSourceMacro.mac                 |
  $G4WORDIR/bin/Linux-g++/Brachy IodiumSourceMacro.mac       
  $G4WORDIR/bin/Linux-g++/Brachy LeipzigSourceMacro.mac  
                                                                        |
- Interative mode:                                                      
  3) $G4WORDIR/bin/Linux-g++/Brachy                                     |

-->possible different configurations for interactive mode:              |

1)Ir source:                                                            |
idle>/run/beamOn NumberOfEvents      ...and then
idle>exit                                                               |

2)Leipzig Applicator:                                                   |
idle>/source/switch Leipzig                                           
idle>/run/beamOn NumberOfEvents     ...and then                         |
idle> exit
                                                                        |
3) Iodium  source:
idle>/source/switch Iodium                                              |
idle>/run/energy Iodium
idle>/run/beamOn NumberOfEvents     ...and then                         |
idle>exit
                                                                        |
*Before the run you can also change the absorber material of the 
Phantom:                                                                |
idle>/phantom/selectMaterial  materialName
                                                                        |
- batch mode: executable Brachy macroFile.mac 
  a macro is provided as example: IodiumSourceMacro.mac                 |
  (ex. $G4WORKDIR/bin/Linux-g++/Brachy IodiumSourceMacro.mac)   
------------------------------------------------------------------------
----> 4. Simulation output                                              |

if ANALYSIS_USE = 1 in the set-up, the output is brachytherapy.hbk      | 
 It contains:
 1)1Dhistogram with the primary particle energy                         |
 2)2Dhistogram with the distribution of energy in the plane 
   (x,z,energy) containing the source (YThickness = 1. mm)              |
 3)Ntuple with the 3D energy deposit in the Phantom                    
                                                                        |
Units:   the energy deposit is in MeV;
         x, y, z in mm for both 2D-histogram and ntuple                 |
------------------------------------------------------------------------
----> 5.Visualisation                                                   | 

a macro is provided ad example of visulisation:  VisualisationMacro.mac |
run $G4WORKDIR/bin/Linux-g++/Brachy VisualisationMacro.mac
------------------------------------------------------------------------

for comments, advices, doubts and questions: guatelli@ge.infn.it
for more info http://www.ge.infn.it/geant4/examples/index.html

last modified: Susanna Guatelli 28/5/2003
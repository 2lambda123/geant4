
     =========================================================
 		      Geant4 - ExDiane example
     =========================================================

                             README
                      ---------------------

------------------------------------------------------------------------
----> Introduction.                                                     |

This example shows a solution to run in parallel mode a Geant4 
application through DIANE.

The use of DIANE is advantageous because running in sequential or 
parallel mode on a dedicated cluster or using distributed computing     |
resources is completly transparent to the user.

For more detais about DIANE, pleas take a look at www.cern.ch/diane                                                                       
The ExDiane example derives from the Geant4 advanced example 
brachytherapy. The original application has been modified to accomplish 
the use of DIANE; please look the documentation of the brachytherapy 
advanced example to know details about the functionality of 
the application.

The example simulates energy deposit in a Phantom filled with           |
soft tissue for: 
1) Iridium source (endocavitary brachytherapy).                         |
2) Iodium  source (interstitial brachytherapy).                         
3) Leipzig Applicator (superficial brachytherapy).                      |

-------------------------------------------------------------------------
----> 2.SET-UP 
                                                                        |
 -example enviroment with the compiler 3.2.3                              
 -a standard Geant4 example GNUmakefile is provided                     |

setup with:                                                             |
compiler = gcc-3.2.3
G4SYSTEM = linux-g++                                                    |

The following environment variables need to be set:                     |

G4LEDATA: points to low energy data base - G4EMLOW2.3                   |

setup for analysis: AIDA 3.2.1, PI 1.2.1                                |

Users can download the analysis tools from:  
                                                                        |
http://aida.freehep.org/
http://www.cern.ch/PI                                                                                                                                   |

------------------------------------------------------------------------
----> 3.How to run the example.                                         |

- batch mode:
  $G4WORDIR/bin/Linux-g++/Brachy IridiumSourceMacro.mac                 |
  $G4WORDIR/bin/Linux-g++/Brachy IodiumSourceMacro.mac       
  $G4WORDIR/bin/Linux-g++/Brachy LeipzigSourceMacro.mac  
                                                                        |
- Interative mode:                                                      
  3) $G4WORDIR/bin/Linux-g++/Brachy
     The VisualisationMacro.mac is loaded automatically                 |

-->possible different configurations for interactive mode:              |

1)Ir source:                                                            |
idle>/run/beamOn NumberOfEvents      ...and then
idle>exit                                                               |

2)Leipzig Applicator:                                                   |
idle>/source/switch Leipzig                                           
idle>/run/beamOn NumberOfEvents     ...and then                         |
idle> exit
                                                                        |
3) Iodium  source:
idle>/source/switch Iodium                                              |
idle>/run/energy Iodium
idle>/run/beamOn NumberOfEvents     ...and then                         |
idle>exit
                                                                        |
*Before the run you can also change the absorber material of the 
Phantom:                                                                |
idle>/phantom/selectMaterial  materialName
                                                                        |
- batch mode: executable Brachy macroFile.mac 
  macros are provided as example: IodiumSourceMacro.mac,
  IridiumSourceMacro.mac, LeipzigSourceMacro.mac                        |
  (ex. $G4WORKDIR/bin/Linux-g++/Brachy IodiumSourceMacro.mac)   
------------------------------------------------------------------------
----> 4. Simulation output                                              |

if ANALYSIS_USE = 1 in the set-up, the output is brachytherapy.xml      | 

 It contains:
 1)1Dhistogram with the primary particle energy                         |
 2)2Dhistogram with the distribution of energy in the plane 
   (x,z,energy) containing the source (YThickness = 1. mm)   
 3)1Dhistogram with the energy deposit along the X axis in the plane    |
   containing the source.
                                                                        |
Units:   the energy deposit is in MeV;
         x, y, z in mm for histograms                                   |
-------------------------------------------------------------------------
Authors: Susanna Guatelli, Kuba Moscicki

for comments, advices, doubts and questions: 
guatelli@ge.infn.it, Jakub.Moscicki@cern.ch

last modified: Susanna Guatelli 25/5/2004

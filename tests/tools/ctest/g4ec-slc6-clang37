#!/usr/bin/env bash

THIS=$(dirname $0)

#---Enable FPE ---------------------------------------------------
#export CXXFLAGS=-DG4FPE_DEBUG

CONFIG=slc6-clang36

#use Xercesc 3.1.1p1 from ...experimental....
XERCESC_VERSION=3.1.1p1
#use Xercesc 3.1.1p1 from explicit place 
XercesC_dir=/afs/cern.ch/sw/lcg/external/XercesC/3.1.1p1/x86_64-slc6-gcc48-opt

#run without root
export ROOTSYS="-"
#export CLHEP_ROOT_DIR="-"
[ -z "${BUILDOPTIONS}" ] && BUILDOPTIONS="UseInternalCLHEP" \
                         || BUILDOPTIONS="${BUILDOPTIONS},UseInternalCLHEP"

Clang_dir=/afs/cern.ch/sw/lcg/external/llvm/3.7/x86_64-slc6

# clang 3.7 setup uses libs from gcc 4.9.3 ...
. /afs/cern.ch/sw/lcg/external/gcc/4.9/x86_64-slc6-gcc49-opt/setup.sh

# .. so also tell clang about this: 
gccbase=`which g++ | sed -e "s=/bin/g++=="`
export CXXFLAGS="${CXXFLAGS:- } --gcc-toolchain=$gccbase"
export  CCFLAGS="${CCFLAGS:- } --gcc-toolchain=$gccbase"

# now set up clang
.  ${Clang_dir}/setup.sh

 # and make sure to use the correct libs and includes....
export CXX=${Clang_dir}/bin/clang++
export  CC=${Clang_dir}/bin/clang

. ${THIS}/g4ec-slc-common x86_64-slc6 4.9

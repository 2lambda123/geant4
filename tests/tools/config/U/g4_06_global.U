?RCS:
?MAKE:g4global g4granular g4lib_use_granular: \
	g4lib_build_shared Myread Getfile cat rm test
?MAKE:	-pick add $@ %<
?S:g4osname:
?S:	This variable contains the value of the 'g4osname' symbol, which
?S:	used for building G4SYSTEM.
?S:.
?INIT:#INITIALIZE GLOBAL/GRANULAR LIBRARY OPTIONS
?INIT:g4global='y'
?INIT:g4granular='n'
?INIT:g4lib_use_granular='n'


if test \( \( "X$g4system" = "XWIN32-VC" -o "X$g4system" = "XWIN32-VC7" \) -a "X$g4lib_build_dll" = "Xy" \) -o  \( "X$g4system" = "XDarwin-g++"  -a "X$g4lib_build_dyn" = "Xy" \) ; then

	g4global=n
	g4granular=n
	g4lib_use_granular=n

fi

if test \( "X$g4system" != "XWIN32-VC" -a "X$g4system" != "XWIN32-VC7" -a "X$g4system" != "XDarwin-g++" \) -o    \( \( "X$g4system" = "XWIN32-VC" -o "X$g4system" = "XWIN32-VC7" \) -a "X$g4lib_build_dll" = "Xn" \) -o \( "X$g4system" = "XDarwin-g++" -a "X$g4lib_build_dyn" = "Xn" \) ; then
	#
	# Ask about g4global - default "(empty)". 
	#
	g4message="Do you want to build global libraries?"
	dflt=$g4global
	rp=$g4message
	. ./myread
	gans=$ans

	case $gans in
	n*|N*)
        # If global libs not wanted, we must force build and use of granular 
		g4global=n
		g4granular=y
		g4lib_use_granular=y
		;;
	y*|Y*) 
        # If we do want global libs, leave granular alone to preserve default settings
		g4global=y
		;;
	esac

	if [ X$g4global = Xy ] ; then
		#
		# Ask about g4granular - default "n". 
		#
		g4message="Do you want to build granular libraries as well?"
		dflt=$g4granular
		rp=$g4message
		. ./myread
		gans=$ans

		case $gans in
		n*|N*) 
            # If granular libraries not built, also force use_granular to no
			g4granular=n
            g4lib_use_granular=n
			;;
		y*|Y*) 
			g4granular=y
			;;
		esac

		if [ X$g4granular = Xy ] ; then
			#
			# Ask about g4lib_use_granular - default "n". 
			#
			g4message="Do you want to use granular libraries in your applications?"
			dflt=$g4lib_use_granular
			rp=$g4message
			. ./myread
			gans=$ans

			case $gans in
			n*|N*) 
				g4lib_use_granular=n
				;;
			y*|Y*) 
				g4lib_use_granular=y
				;;
			esac
		fi
	fi
fi # !Win

### End file - without will be problem! Check in others...


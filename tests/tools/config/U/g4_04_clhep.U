?RCS:
?MAKE:g4clhep_base_dir g4clhep_include_dir g4clhep_lib_dir g4clhep_lib: \
	g4global g4debug g4make Myread Getfile cat rm
?MAKE:	-pick add $@ %<
?S:g4osname:
?S:	This variable contains the value of the 'g4osname' symbol, which
?S:	used for building G4SYSTEM.
?S:.

echo " "
echo "*CHECKS FOR REQUIRED EXTERNAL PACKAGE CLHEP*"

if test "X$g4clhep_base_dir" = "X" ; then
	clhep_dirs=`find $g4clhep_base_dir /usr/local/include /usr/include -type d -name CLHEP 2>/dev/null |xargs echo`
fi

if test "X$clhep_dirs" != "X" ; then
	g4clhep_base_dir_found=`echo $clhep_dirs|cut -d" " -f1`
	g4clhep_base_dir_found=`dirname $g4clhep_base_dir_found`
	g4clhep_base_dir_found=`dirname $g4clhep_base_dir_found`

	g4clhep_base_dir=$g4clhep_base_dir_found
fi


if test "X$g4clhep_base_dir" != "X" ; then
	echo "checking for a CLHEP installation... $g4clhep_base_dir"

	echo " "
	g4message="Is this the CLHEP installation you want to use?"

	dflt=$g4clhep_base_dir
	fn='d~'
	rp=$g4message
	. ./getfile

	cend="no"
	while test "$cend" = "no" ; do
		if test -e "$ans/include/CLHEP" ; then
			cend="yes"
			g4clhep_base_dir=$ans
		else
			g4message=`cat << EOM

Could not find CLHEP installed in $ans!
Please, specify where CLHEP is installed:

CLHEP_BASE_DIR:			

EOM`

			dflt=""
			fn='d~'
			rp=$g4message
			. ./getfile
		fi
	done

else
	g4message=`cat << EOM

Could not find CLHEP installed on this system!
Please, specify where CLHEP is installed:

CLHEP_BASE_DIR:			

EOM`

	dflt=""
	fn='d~'
	rp=$g4message
	. ./getfile

	cend="no"
	while test "$cend" = "no" ; do
		if test -e "$ans/include/CLHEP" ; then
			cend="yes"
			g4clhep_base_dir=$ans
		else
			g4message=`cat << EOM

Could not find CLHEP installed in $ans!
Please, specify where CLHEP is installed:

CLHEP_BASE_DIR:			

EOM`

			dflt=""
			fn='d~'
			rp=$g4message
			. ./getfile
		fi
	done
fi

case "$g4clhep_include_dir" in
'')
	g4clhep_include_dir=$g4clhep_base_dir/include
	;;
esac

case "$g4clhep_lib_dir" in
'')
	g4clhep_lib_dir=$g4clhep_base_dir/lib
	;;
esac

case "$g4clhep_lib" in
'')
	if test "X$g4system" = "XWIN32-VC" -o "X$g4system" = "XWIN32-VC7"; then
	g4clhep_lib="CLHEP.lib"
	else
	g4clhep_lib=CLHEP
	fi
	;;
esac

while test 1 = 1  ; do
	g4message_1=`cat << You

You can customize paths and library name of you CLHEP installation:

1) CLHEP_INCLUDE_DIR:		$g4clhep_include_dir
2) CLHEP_LIB_DIR:		$g4clhep_lib_dir
3) CLHEP_LIB:			$g4clhep_lib

You`

	g4message_2=" need to use full library name with its extension (e.g. libCLHEP.lib)."

	g4message_3=`cat << EOM

To modify default settings, select number above (e.g. 2)
EOM`


	if test "X$g4system" != "XWIN32-VC" -a "X$g4system" != "XWIN32-VC7"; then
		rp=$g4message_1$g4message_3
	else
		rp=$g4message_1$g4message_2$g4message_3
	fi

	dflt="Press [Enter] for default settings"
	. ./myread
	gans=$ans

	case $gans in
	1) 
		dflt=$g4clhep_include_dir
		fn='d~'
		rp="Where is the CLHEP include directory?"
		. ./getfile
		g4clhep_include_dir=$ans
		;;
	2) 
		dflt=$g4clhep_lib_dir
		fn='d~'
		rp="Where is the CLHEP lib directory?"
		. ./getfile
		g4clhep_lib_dir=$ans
		;;
	3) 
		dflt=$g4clhep_lib
		rp="What is the name of the CLHEP library?"
		. ./myread
		g4clhep_lib=$ans
		;;
	*) 
		break
		;;
	esac
done


!include $(G4INSTALL)\tests\tools\NT\HeadT.nmk
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
#  File produced by the Co/omake tool
# using file Make.odb.
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
#  The soft linked packages has been taken
# from the property 'has' of the 
# 'Make' object of file Make.odb.
# It had the value :
#    Win rogue CLHEP G4 GL Inventor
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
HAS_CPPFLAGS = \
 $(test_CPPFLAGS)\
 $(Win_CPPFLAGS)\
 $(rogue_CPPFLAGS)\
 $(CLHEP_CPPFLAGS)\
 $(G4_CPPFLAGS)\
 $(GL_CPPFLAGS)\
 $(Inventor_CPPFLAGS)
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
all   :: mkdir

clean ::
	if exist $(bin)\*.obj del $(bin)\*.obj
	if exist $(bin)\*.exe del $(bin)\*.exe
	if exist $(bin)\*.lib del $(bin)\*.lib
	if exist $(bin)\*.dll del $(bin)\*.dll
	if exist $(bin)\*.exp del $(bin)\*.exp
	if exist $(bin)\*.pdb del $(bin)\*.pdb
rmlib ::
	if exist $(bin)\*.lib del $(bin)\*.lib
rmo   ::
	if exist $(bin)\*.obj del $(bin)\*.obj
rmexe ::
	if exist $(bin)\*.exe del $(bin)\*.exe

mkdir :
	@if not exist $(bin) mkdir $(bin)

libtest08_target = $(bin)\libtest08.$(lib_or_dll)
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
all :: mkdir \
$(libtest08_target) \
$(bin)\test08.exe 
	@echo "test : all ok." 

libs :: mkdir \
$(libtest08_target) 
	@echo "test : libs ok." 

apps :: mkdir \
$(bin)\test08.exe 
	@echo "test : apps ok." 
#--------------------------------------------
rmexeo :
	if exist $(bin)\test08.obj del $(bin)\test08.obj
#--------------------------------------------
test08 : $(bin)\test08.exe
	@echo "test : test08 ok."
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
#--------------------------------------------
$(bin)\test08.exe : $(bin)\test08.obj \
$(libtest08_target) 
	$(CXXLD) $(CXXLDFLAGS) $(CCLDO)$(bin)\test08.exe $(bin)\test08.obj \
$(libtest08) \
$(libG4visualization) \
$(libG4run) \
$(libG4interfaces) \
$(libG4tracking) \
$(libG4track) \
$(libG4processes) \
$(libG4particles) \
$(libG4event) \
$(libG4materials) \
$(libG4digits_hits) \
$(libG4geometry) \
$(libG4graphics_reps) \
$(libG4intercoms) \
$(libG4global) \
$(libInventor) \
$(libGLU) \
$(libGL) \
$(librwtool) \
$(libCLHEP) \
$(libWin) \
$(CXXLDEND) 

$(bin)\test08.obj   : $(app)\test08.cc
	$(CXX) $(CXXFLAGS) $(APP_CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\test08.obj /Tp$(app)\test08.cc
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
# libraries 
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
#--------------------------------------------
$(bin)\libtest08.dll : \
$(bin)\T08ChamberParameterisation.obj \
$(bin)\T08DetectorConstruction.obj \
$(bin)\T08DetectorMessenger.obj \
$(bin)\T08EventAction.obj \
$(bin)\T08MagneticField.obj \
$(bin)\T08PhysicsList.obj \
$(bin)\T08PhysicsListMessenger.obj \
$(bin)\T08PrimaryGeneratorAction.obj \
$(bin)\T08PrimaryGeneratorMessenger.obj \
$(bin)\T08RunAction.obj \
$(bin)\T08SteppingAction.obj \
$(bin)\T08TrackerHit.obj \
$(bin)\T08TrackerSD.obj \
$(bin)\T08VisManager.obj 
	if exist $(bin)\libtest08.lib del $(bin)\libtest08.lib 
	if exist $(bin)\libtest08.exp del $(bin)\libtest08.exp 
	lib.exe $(LIBFLAGS) /def:$(mgr)\libtest08.def /out:$(bin)\libtest08.lib
	if exist $(bin)\libtest08.dll del $(bin)\libtest08.dll 
	$(LINK32) $(LINK32FLAGS) /out:$(bin)\libtest08.dll $(bin)\libtest08.exp \
$(bin)\T08ChamberParameterisation.obj \
$(bin)\T08DetectorConstruction.obj \
$(bin)\T08DetectorMessenger.obj \
$(bin)\T08EventAction.obj \
$(bin)\T08MagneticField.obj \
$(bin)\T08PhysicsList.obj \
$(bin)\T08PhysicsListMessenger.obj \
$(bin)\T08PrimaryGeneratorAction.obj \
$(bin)\T08PrimaryGeneratorMessenger.obj \
$(bin)\T08RunAction.obj \
$(bin)\T08SteppingAction.obj \
$(bin)\T08TrackerHit.obj \
$(bin)\T08TrackerSD.obj \
$(bin)\T08VisManager.obj 

$(bin)\libtest08.lib : \
$(bin)\T08ChamberParameterisation.obj \
$(bin)\T08DetectorConstruction.obj \
$(bin)\T08DetectorMessenger.obj \
$(bin)\T08EventAction.obj \
$(bin)\T08MagneticField.obj \
$(bin)\T08PhysicsList.obj \
$(bin)\T08PhysicsListMessenger.obj \
$(bin)\T08PrimaryGeneratorAction.obj \
$(bin)\T08PrimaryGeneratorMessenger.obj \
$(bin)\T08RunAction.obj \
$(bin)\T08SteppingAction.obj \
$(bin)\T08TrackerHit.obj \
$(bin)\T08TrackerSD.obj \
$(bin)\T08VisManager.obj 
	if exist $(bin)\libtest08.lib del $(bin)\libtest08.lib 
	lib.exe @<<
/nologo /out:$(bin)\libtest08.lib
$(bin)\T08ChamberParameterisation.obj
$(bin)\T08DetectorConstruction.obj
$(bin)\T08DetectorMessenger.obj
$(bin)\T08EventAction.obj
$(bin)\T08MagneticField.obj
$(bin)\T08PhysicsList.obj
$(bin)\T08PhysicsListMessenger.obj
$(bin)\T08PrimaryGeneratorAction.obj
$(bin)\T08PrimaryGeneratorMessenger.obj
$(bin)\T08RunAction.obj
$(bin)\T08SteppingAction.obj
$(bin)\T08TrackerHit.obj
$(bin)\T08TrackerSD.obj
$(bin)\T08VisManager.obj
<<
#--------------------------------------------
# libtest08 dependencies 
#--------------------------------------------
$(bin)\T08ChamberParameterisation.obj : src\T08ChamberParameterisation.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08ChamberParameterisation.obj /Tpsrc\T08ChamberParameterisation.cc

$(bin)\T08DetectorConstruction.obj : src\T08DetectorConstruction.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08DetectorConstruction.obj /Tpsrc\T08DetectorConstruction.cc

$(bin)\T08DetectorMessenger.obj : src\T08DetectorMessenger.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08DetectorMessenger.obj /Tpsrc\T08DetectorMessenger.cc

$(bin)\T08EventAction.obj : src\T08EventAction.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08EventAction.obj /Tpsrc\T08EventAction.cc

$(bin)\T08MagneticField.obj : src\T08MagneticField.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08MagneticField.obj /Tpsrc\T08MagneticField.cc

$(bin)\T08PhysicsList.obj : src\T08PhysicsList.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08PhysicsList.obj /Tpsrc\T08PhysicsList.cc

$(bin)\T08PhysicsListMessenger.obj : src\T08PhysicsListMessenger.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08PhysicsListMessenger.obj /Tpsrc\T08PhysicsListMessenger.cc

$(bin)\T08PrimaryGeneratorAction.obj : src\T08PrimaryGeneratorAction.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08PrimaryGeneratorAction.obj /Tpsrc\T08PrimaryGeneratorAction.cc

$(bin)\T08PrimaryGeneratorMessenger.obj : src\T08PrimaryGeneratorMessenger.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08PrimaryGeneratorMessenger.obj /Tpsrc\T08PrimaryGeneratorMessenger.cc

$(bin)\T08RunAction.obj : src\T08RunAction.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08RunAction.obj /Tpsrc\T08RunAction.cc

$(bin)\T08SteppingAction.obj : src\T08SteppingAction.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08SteppingAction.obj /Tpsrc\T08SteppingAction.cc

$(bin)\T08TrackerHit.obj : src\T08TrackerHit.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08TrackerHit.obj /Tpsrc\T08TrackerHit.cc

$(bin)\T08TrackerSD.obj : src\T08TrackerSD.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08TrackerSD.obj /Tpsrc\T08TrackerSD.cc

$(bin)\T08VisManager.obj : src\T08VisManager.cc
	$(CXX) $(CXXFLAGS) $(HAS_CPPFLAGS) /c /Fo$(bin)\T08VisManager.obj /Tpsrc\T08VisManager.cc


